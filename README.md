TODO: More imports/rewrites, documentation.